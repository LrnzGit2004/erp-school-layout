<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Layout Proposition</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <header class="header">
      <button class="burger-menu" id="burger-btn" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <div class="header-logo">Logo et Nom de l'établissement</div>
      <div class="header-user">
        <div class="user-avatar"><i class="fa-regular fa-user"></i></div>
        <span>Bonjour, Eric</span>
        <i class="fa-solid fa-chevron-down" style="font-size: 12px"></i>
      </div>
    </header>

    <div class="main-container">
      <nav class="sidebar">
        <a href="#" class="menu-item">
          <div class="menu-item-content">
            <i class="fa-solid fa-house"></i>
            Tableau de bord
          </div>
        </a>

        <div class="menu-item menu-trigger active-state" id="scolarite-btn">
          <div class="menu-item-content">
            <i class="fa-solid fa-graduation-cap"></i>
            Scolarité
          </div>
          <i
            class="fa-solid fa-chevron-down arrow-icon"
            style="font-size: 12px"
          ></i>
        </div>

        <div class="submenu open" id="scolarite-submenu">
          <a href="#" class="submenu-item">Étudiants</a>
          <a href="#" class="submenu-item current">Inscriptions</a>
          <a href="#" class="submenu-item">Filières</a>
          <a href="#" class="submenu-item">Niveaux</a>
          <a href="#" class="submenu-item">Parcours</a>
        </div>

        <a href="#" class="menu-item">
          <div class="menu-item-content">
            <i class="fa-regular fa-calendar-xmark"></i>
            Absences
          </div>
        </a>

        <a href="#" class="menu-item">
          <div class="menu-item-content">
            <i class="fa-solid fa-building-user"></i>
            GRH
          </div>
        </a>

        <a href="#" class="menu-item">
          <div class="menu-item-content">
            <i class="fa-solid fa-box-archive"></i>
            Ressources
          </div>
        </a>

        <div class="sidebar-divider"></div>

        <a href="#" class="menu-item">
          <div class="menu-item-content">
            <i class="fa-solid fa-gear"></i>
            Paramètres
          </div>
        </a>
      </nav>

      <main class="content-area">
        <div class="dashboard-grid">
          <div class="card"></div>
          <div class="card"></div>
          <div class="card"></div>
          <div class="card card-wide"></div>
          <div class="card"></div>
        </div>
      </main>
    </div>

    <script>
      // Gestion du menu burger
      const burgerBtn = document.getElementById("burger-btn");
      const sidebar = document.querySelector(".sidebar");

      burgerBtn.addEventListener("click", function () {
        sidebar.classList.toggle("open");
        burgerBtn.classList.toggle("active");
      });

      // Fermer le menu au clic sur un lien (sauf les menu-trigger)
      const menuItems = document.querySelectorAll(
        ".menu-item:not(.menu-trigger), .submenu-item",
      );
      menuItems.forEach((item) => {
        item.addEventListener("click", function () {
          sidebar.classList.remove("open");
          burgerBtn.classList.remove("active");
        });
      });

      // Sélection des éléments
      const scolariteBtn = document.getElementById("scolarite-btn");
      const scolariteSubmenu = document.getElementById("scolarite-submenu");

      // Ajout de l'événement clic
      scolariteBtn.addEventListener("click", function () {
        // 1. Basculer la classe 'open' sur le sous-menu (ouvre/ferme)
        scolariteSubmenu.classList.toggle("open");

        // 2. Basculer l'état visuel du bouton (si vous voulez qu'il change de couleur ou que la flèche tourne)
        // Note: ici on garde la couleur bleue active, mais on pourrait la retirer si le menu est fermé

        // Pour faire tourner la flèche, c'est géré par CSS via la classe parente.
        // Si on veut que la flèche ne tourne que si le menu est ouvert :
        if (scolariteSubmenu.classList.contains("open")) {
          scolariteBtn.querySelector(".arrow-icon").style.transform =
            "rotate(-180deg)";
        } else {
          scolariteBtn.querySelector(".arrow-icon").style.transform =
            "rotate(0deg)";
        }
      });

      // Initialisation correcte de la flèche au chargement
      if (scolariteSubmenu.classList.contains("open")) {
        scolariteBtn.querySelector(".arrow-icon").style.transform =
          "rotate(-180deg)";
      }
    </script>
  </body>
</html>
